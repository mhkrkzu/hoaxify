import React, {useEffect, useState} from 'react';import Input from '../components/Input';import {useTranslation} from "react-i18next";import ButtonWithProgress from "../components/ButtonWithProgress";import {useApiProgress} from "../shared/ApiProgress";import {loginHandler} from "../redux/AuthActions";import {useDispatch} from "react-redux";const LoginPage = (props) => {    const [username, setUsername] = useState();    const [password, setPassword] = useState();    const [error, setError] = useState();    const dispatch = useDispatch();    useEffect(() => {        setError(undefined);    }, [username, password])    const onClickLogin = async event => {        event.preventDefault();        const creds = {            username,            password        };        const {history} = props        const {push} = history;        setError(undefined)        try {            await dispatch(loginHandler(creds))            push('/');        } catch (apiError) {            setError(apiError.response.data.message)        }    };    const {t} = useTranslation();    const pendingApiCall = useApiProgress('post', '/api/1.0/auth');    const buttonEnabled = username && password;    return (        <div className="container">            <div className="row">                <div className="col-md-4"></div>                <div className="col-md-4 mt-5">                    <h1 className="text-center">{t('Login')}</h1>                    <form>                        <Input label={t("Username")} placeholder={t("Username")}                               onChange={(event) => setUsername(event.target.value)}/>                        <Input label={t("Password")} placeholder={t("Password")} type="password"                               onChange={(event) => setPassword(event.target.value)}/>                        {error && <div className="alert alert-danger">{error}</div>}                        <div className="text-center">                            <ButtonWithProgress onClick={onClickLogin}                                                disabled={!buttonEnabled || pendingApiCall}                                                pendingApiCall={pendingApiCall} text={t("Login")}/>                        </div>                    </form>                </div>                <div className="col-md-4"></div>            </div>        </div>    );}export default LoginPage;